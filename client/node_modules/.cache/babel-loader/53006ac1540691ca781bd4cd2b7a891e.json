{"ast":null,"code":"import _classCallCheck from \"/Users/flatironschool/flatironschool/Campus/module4/project/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/flatironschool/flatironschool/Campus/module4/project/client/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar API =\n/*#__PURE__*/\nfunction () {\n  function API() {\n    _classCallCheck(this, API);\n  }\n\n  _createClass(API, null, [{\n    key: \"init\",\n    value: function init() {\n      this.baseUrl = 'http://localhost:3001';\n      this.signupUrl = this.baseUrl + '/signup';\n      this.signinUrl = this.baseUrl + '/signin';\n      this.validateUrl = this.baseUrl + '/validate';\n      this.itemUrl = this.baseUrl + '/item';\n      this.newsUrl = 'https://newsapi.org/v2/top-headlines?sources=crypto-coins-news&apiKey=eb613f5fa10842a383014ef24f0a4740';\n      this.databaseNews = this.baseUrl + '/createnews';\n      this.getNewsUrl = this.baseUrl + '/getnews';\n    }\n  }, {\n    key: \"signin\",\n    value: function signin(user) {\n      return fetch(this.signinUrl, {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          user: user\n        })\n      }).then(function (resp) {\n        return resp.json();\n      });\n    }\n  }, {\n    key: \"signup\",\n    value: function signup(user) {\n      return fetch(this.signupUrl, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          user: user\n        })\n      }).then(function (resp) {\n        return resp.json();\n      });\n    }\n  }, {\n    key: \"item\",\n    value: function item(state) {\n      return fetch(this.itemUrl, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          state: state\n        })\n      }).then(function (resp) {\n        return resp.json();\n      });\n    }\n  }, {\n    key: \"validate\",\n    value: function validate() {\n      var token = localStorage.getItem('token');\n      return fetch(this.validateUrl, {\n        method: 'GET',\n        headers: {\n          'Authorization': token\n        }\n      }).then(function (resp) {\n        return resp.json();\n      });\n    }\n  }, {\n    key: \"newsAPI\",\n    value: function newsAPI() {\n      var _this = this;\n\n      var req = new Request(this.newsUrl);\n      return fetch(req).then(function (resp) {\n        return resp.json();\n      }).then(function (json) {\n        return fetch(_this.databaseNews, {\n          method: \"POST\",\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            json: json\n          })\n        });\n      });\n    }\n  }, {\n    key: \"getNews\",\n    value: function getNews() {\n      return fetch(this.getNews).then(function (resp) {\n        return resp.json();\n      });\n    }\n  }]);\n\n  return API;\n}();\n\nAPI.init();\nexport default API;","map":{"version":3,"sources":["/Users/flatironschool/flatironschool/Campus/module4/project/client/src/component/API.js"],"names":["API","baseUrl","signupUrl","signinUrl","validateUrl","itemUrl","newsUrl","databaseNews","getNewsUrl","user","fetch","method","headers","body","JSON","stringify","then","resp","json","state","token","localStorage","getItem","req","Request","getNews","init"],"mappings":"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","sourcesContent":["class API {\n\n  static init () {\n    this.baseUrl='http://localhost:3001'\n    this.signupUrl=this.baseUrl+'/signup'\n    this.signinUrl=this.baseUrl+'/signin'\n    this.validateUrl=this.baseUrl+'/validate'\n    this.itemUrl=this.baseUrl+'/item'\n    this.newsUrl='https://newsapi.org/v2/top-headlines?sources=crypto-coins-news&apiKey=eb613f5fa10842a383014ef24f0a4740'\n    this.databaseNews=this.baseUrl+'/createnews'\n    this.getNewsUrl=this.baseUrl+'/getnews'\n  }\n\n  static signin (user) {\n    return fetch(this.signinUrl, {\n      method: \"POST\",\n      headers: {'Content-Type': 'application/json'},\n      body: JSON.stringify({user})\n    })\n    .then(resp => resp.json())\n  }\n\n  static signup (user) {\n   return fetch(this.signupUrl, {\n     method: 'POST',\n     headers: {'Content-Type': 'application/json'},\n     body: JSON.stringify({user})\n   }).then(resp => resp.json())\n }\n\n   static item (state) {\n    return fetch(this.itemUrl, {\n      method: 'POST',\n      headers: {'Content-Type': 'application/json'},\n      body: JSON.stringify({state})\n    }).then(resp => resp.json())\n  }\n\n static validate () {\n   const token= localStorage.getItem('token')\n   return fetch(this.validateUrl, {\n     method: 'GET',\n     headers: {\n       'Authorization': token\n     },\n   }).then(resp => resp.json())\n }\n\n static newsAPI () {\n   var req = new Request(this.newsUrl);\n   return fetch(req)\n   .then(resp => resp.json())\n   .then(json=>{\n     return fetch(this.databaseNews, {\n       method: \"POST\",\n       headers: {'Content-Type': 'application/json'},\n       body: JSON.stringify({json})\n     })\n   })\n }\n\n static getNews () {\n   return fetch(this.getNews)\n   .then(resp => resp.json())\n }\n\n\n}\n\n\n  API.init()\n\n  export default API\n"]},"metadata":{},"sourceType":"module"}